(()=>{"use strict";const e=({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(r){let a=(r-n)/o;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(l)}))},t=({formId:e,someElem:t=[]})=>{document.querySelectorAll('input[placeholder="Ваше сообщение"]').forEach((e=>e.addEventListener("input",(()=>e.value=e.value.replace(/[^а-яА-ЯёЁ0-9\s.,!?;:-]/g,""))))),document.querySelectorAll('input[type="email"]').forEach((e=>e.addEventListener("input",(()=>e.value=e.value.replace(/[^a-zA-Z0-9@\-_\.\!\~\*\']/g,""))))),document.querySelectorAll('input[type="tel"]').forEach((e=>e.addEventListener("input",(()=>e.value=e.value.replace(/[^0-9+\-\(\)]/g,""))))),document.querySelectorAll('input[placeholder="Ваше имя"]').forEach((e=>e.addEventListener("input",(()=>e.value=e.value.replace(/[^а-яА-ЯёЁa-zA-Z\s]/g,"")))));const n=document.getElementById(e),l=document.createElement("div");l.classList.add("add-div");const r=e=>fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json()));try{if(!n)throw new Error("Верните форму на место");n.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=n.querySelectorAll("input"),a=new FormData(n),c={};l.textContent="Загрузка...",n.append(l),a.forEach(((e,t)=>{c[t]=e})),t.forEach((e=>{const t=document.getElementById(e.id);"block"===e.type?c[e.id]=t.textContent:"input"===e.type&&(c[e.id]=t.value)})),r(c).then((t=>{l.textContent="Спасибо! наш менеджер с вами свяжется",e.forEach((e=>{e.value=""})),setTimeout((()=>{l.textContent=""}),3e3),o()})).catch((e=>l.textContent="Произошла ошибка..."))})()}))}catch(e){console.log(e.message)}return l.style.color="white",r()},o=()=>{const o=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup"),l=document.querySelector("#form3"),r=n.querySelector(".popup-close"),a=()=>{n.style.display="block",window.innerWidth>=768?e({duration:20,timing:e=>e,draw(e){n.style.transform=`scale(${e})`,n.style.opacity=e}}):(n.style.transform="none",n.style.opacity="1")},c=()=>{window.innerWidth>=768?(e({duration:20,timing:e=>1-e,draw(e){n.style.transform=`scale(${e})`,n.style.opacity=e}}),setTimeout((()=>{n.style.display="none"}),300)):n.style.display="none"};r.addEventListener("click",c),o.forEach((e=>{e.addEventListener("click",a)})),n.addEventListener("click",(e=>{e.target===n&&c()})),t({formId:"form3"}),l.querySelector("div.add-div")&&setTimeout((()=>{c()}),1e3)};(()=>{const e=document.querySelectorAll(".portfolio-item"),t=document.getElementById("portfolio-dots");for(let o=0;o<e.length;o++){const e=document.createElement("li");e.classList.add("dot"),0===o&&e.classList.add("dot-active"),t.append(e)}})(),(e=>{const t=document.getElementById("timer-days"),o=document.getElementById("timer-hours"),n=document.getElementById("timer-minutes"),l=document.getElementById("timer-seconds");let r,a,c,i,s;const d=()=>{s=(()=>{let t=new Date(e).getTime(),o=(new Date).getTime();if(o>=t)return{timeRemaining:0,days:0,hours:0,minutes:0,seconds:0};let n=(t-o)/1e3,l=Math.floor(n/60/60/24),s=Math.floor(n/60/60%24),d=Math.floor(n/60%60),u=Math.floor(n%60);return r=l>4?" Дней :":1===l?" День :":0===l?"":" Дня :",a=s>4?" Часа :":1===s?" Час :":0===s?"":" Часов :",c=d>4?" Минут :":1===d?" Минута :":0===d?"":" Минуты :",i=u>4?" Секунд ":1===u?" Секунда":0===u?"":" Секунды",{timeRemaining:n,days:l,hours:s,minutes:d,seconds:u}})();let d=s.days,m=s.hours,v=s.minutes,y=s.seconds;0===d&&0===m&&0===v&&0===y?(document.querySelector(".timer-action").textContent="К сожалению Акция закончилась",t.textContent="00 :",o.textContent="00 :",n.textContent="00 :",l.textContent="00"):function(){let e=d+r,p=m+a,f=v+c,h=y+i;""===r&&(e=null),""===a&&(p=null),""===c&&(f=null),""===i&&(h=null),t.textContent=d<10&&d>0?`0${e}`:e,o.textContent=m<10&&m>0?`0${p}`:p,n.textContent=v<10&&v>0?`0${f}`:f,l.textContent=y<10&&y>0?`0${h}`:h,s.timeRemaining<=0&&clearInterval(u)}()};d();const u=setInterval(d,1e3)})("30 january 2025"),(()=>{const e=document.querySelector("menu"),t=document.querySelector("main"),o=()=>{e.classList.toggle("active-menu")};t.addEventListener("click",(e=>{e.target.closest(".menu")&&o()})),e.addEventListener("click",(e=>{e.target.closest(".close-btn")&&o(),e.target.matches("ul>li>a")&&o()}))})(),document.querySelectorAll(".calculator").forEach((e=>e.addEventListener("input",(t=>e.value=e.value.replace(/\D/g,""))))),function(e=100){const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),l=document.querySelector(".calc-count"),r=document.querySelector(".calc-day"),a=document.getElementById("total");t.addEventListener("input",(t=>{t.target!==o&&t.target!==n&&t.target!==l&&t.target!==r||(()=>{const t=+o.options[o.selectedIndex].value,c=n.value;let i=0,s=1,d=1;l.value>1&&(s+=+l.value/10),r.value&&r.value<5?d=2:r.value&&r.value<10&&(d=1.5),i=n.value&&o.value?e*c*t*s*d:0,i=Math.floor(i),a.textContent=i})()}))}(100),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{e.target.classList.contains("service-header-tab")&&t.forEach(((t,n)=>{t===e.target?(t.classList.add("active"),o[n].classList.remove("d-none")):(t.classList.remove("active"),o[n].classList.add("d-none"))}))}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelectorAll(".portfolio-item"),o=document.querySelectorAll(".dot");let n,l=0;const r=(e,t,o)=>{e[t].classList.remove(o)},a=(e,t,o)=>{e[t].classList.add(o)},c=()=>{r(t,l,"portfolio-item-active"),r(o,l,"dot-active"),l++,l>=t.length&&(l=0),a(t,l,"portfolio-item-active"),a(o,l,"dot-active")},i=()=>{n=setInterval(c,1e3)};e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot, .portfolio-btn")&&(r(t,l,"portfolio-item-active"),r(o,l,"dot-active"),e.target.matches("#arrow-right")&&l++,e.target.matches("#arrow-left")&&l--,e.target.classList.contains("dot")&&o.forEach(((t,o)=>{e.target===t&&(l=o)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),a(t,l,"portfolio-item-active"),a(o,l,"dot-active"))})),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot, .portfolio-btn")&&clearInterval(n)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot, .portfolio-btn")&&i()}),!0),i()})(),t({formId:"form1",someElem:[{type:"block",id:"total"}]}),o(),t({formId:"form2"})})();